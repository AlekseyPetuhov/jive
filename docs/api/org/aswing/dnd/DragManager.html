<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../bootstrap.min.js"></script><link href="../../../styles.css" rel="stylesheet" /><link href="../../../custom.css" rel="stylesheet" /><link rel="icon" href="../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../nav.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["jive"]};</script><title>org.aswing.dnd.DragManager</title></head><body><div class="navbar navbar-fixed-top">    <div class="navbar-inner">            <a class="navbar-brand pull-left" href="../../..//../../">                <img alt="Jive" src="../../..//logo-dark.png" style="padding:10px"/>            </a>            <p class="navbar-text pull-left header">API documentation</p>        </div></div><div id="container">            <div id="left-side">            <form class="search" id="searchForm">                <input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/>            </form>            <div id="nav">            </div>            </div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.aswing.dnd.DragManager</span></code></h1></div><div class="body"><div class="doc"><p>Drag and Drop Manager.
<p>
Thanks Bill Lee for the original DnD implementation for AsWing AS2 version.
</p></p><div class="authors"><h3>Authors</h3><ul>        <li><p>paling</p></li>    </ul></div></div><h2>Class Fields</h2><div class="platform platform-jive"><a name="DEFAULT_DROP_MOTION"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">var</span> <a href="#DEFAULT_DROP_MOTION"><span class="identifier">DEFAULT_DROP_MOTION</span></a>:<a class="type" href="../../../org/aswing/dnd/DropMotion.html">DropMotion</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p></p></div></div><div class="platform platform-jive"><a name="DEFAULT_REJECT_DROP_MOTION"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">var</span> <a href="#DEFAULT_REJECT_DROP_MOTION"><span class="identifier">DEFAULT_REJECT_DROP_MOTION</span></a>:<a class="type" href="../../../org/aswing/dnd/DropMotion.html">DropMotion</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p></p></div></div><div class="platform platform-jive"><a name="TYPE_COPY"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">var</span> <a href="#TYPE_COPY"><span class="identifier">TYPE_COPY</span></a>:<a class="type" href="../../../Int.html">Int</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p></p></div></div><div class="platform platform-jive"><a name="TYPE_MOVE"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">var</span> <a href="#TYPE_MOVE"><span class="identifier">TYPE_MOVE</span></a>:<a class="type" href="../../../Int.html">Int</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p></p></div></div><div class="platform platform-jive"><a name="TYPE_NONE"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">var</span> <a href="#TYPE_NONE"><span class="identifier">TYPE_NONE</span></a>:<a class="type" href="../../../Int.html">Int</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p></p></div></div><div class="platform platform-jive"><a name="addDragListener"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#addDragListener"><span class="identifier">addDragListener</span></a>(lis:<a class="type" href="../../../org/aswing/dnd/DragListener.html">DragListener</a>): <a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Adds a drag listener to listener list.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>lis</td><td><p>the listener to be add</p></td></tr></tbody></table></div></div><div class="platform platform-jive"><a name="getCurrentDragImage"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getCurrentDragImage"><span class="identifier">getCurrentDragImage</span></a>(): <a class="type" href="../../../org/aswing/dnd/DraggingImage.html">DraggingImage</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns the drag image.</p></div></div><div class="platform platform-jive"><a name="getCurrentDropTarget"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getCurrentDropTarget"><span class="identifier">getCurrentDropTarget</span></a>(): <a class="type" href="../../../flash/display/DisplayObject.html">DisplayObject</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns current drop target of dragging components by startDrag method.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the drop target</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>this.<a href="#startDrag">startDrag</a>()
</li>        <li>this.<a href="#getDropTarget">getDropTarget</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="getCurrentDropTargetComponent"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getCurrentDropTargetComponent"><span class="identifier">getCurrentDropTargetComponent</span></a>(): <a class="type" href="../../../org/aswing/Component.html">Component</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns current drop target component of dragging components by startDrag method.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the drop target component</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>this.<a href="#startDrag">startDrag</a>()
</li>        <li>this.<a href="#getDropTargetComponent">getDropTargetComponent</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="getCurrentDropTargetDropTriggerComponent"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getCurrentDropTargetDropTriggerComponent"><span class="identifier">getCurrentDropTargetDropTriggerComponent</span></a>(): <a class="type" href="../../../org/aswing/Component.html">Component</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns current drop target drop trigger component of dragging components by startDrag method.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the drop target drop trigger component</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>this.<a href="#startDrag">startDrag</a>()
</li>        <li>this.<a href="#getDropTargetDropTriggerComponent">getDropTargetDropTriggerComponent</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="getDropTarget"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getDropTarget"><span class="identifier">getDropTarget</span></a>(stage:<a class="type" href="../../../flash/display/Stage.html">Stage</a>, ?pos:<a class="type" href="../../../flash/geom/Point.html">Point</a> = null, ?targetType:<a class="type" href="../../../Class.html">Class</a>&lt;<a class="type" href="../../../Dynamic.html">Dynamic</a>&gt; = null, ?addtionCheck:<a class="type" href="../../../Dynamic.html">Dynamic</a> -&gt;<a class="type" href="../../../Bool.html">Bool</a> = null): <a class="type" href="../../../flash/display/DisplayObject.html">DisplayObject</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns the drop target of specified position and specified class type.
For example:<br/>
<pre>
getDropTarget(new Point(0, 0), TextField);
will return the first textfield insance under the point, or null if not found.</p>
<p>getDropTarget(null, null);
will return the first display object insance under the current mouse point, or null if not found.
</pre></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>stage</td><td><p>the stage where the drop target should be in</p></td></tr><tr><td>pos</td><td><p>The point under which to look, in the coordinate space of the Stage.</p></td></tr><tr><td>targetType</td><td><p>the class type of the target, default is null, means any display object.</p></td></tr><tr><td>addtionCheck,</td><td><p>a check function, only return the target when function(target:DisplayOject) return true. 
default is null, means no this check.</p></td></tr><tr><td>returns</td><td><p>drop target</p></td></tr></tbody></table></div></div><div class="platform platform-jive"><a name="getDropTargetComponent"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getDropTargetComponent"><span class="identifier">getDropTargetComponent</span></a>(?pos:<a class="type" href="../../../flash/geom/Point.html">Point</a> = null): <a class="type" href="../../../org/aswing/Component.html">Component</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns current drop target component of specified position.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>pos</td><td><p>the global point</p></td></tr><tr><td>returns</td><td><p>the drop target component</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>this.<a href="#startDrag">startDrag</a>()
</li>        <li>this.<a href="#getDropTargetComponent">getDropTargetComponent</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="getDropTragetDropTriggerComponent"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#getDropTragetDropTriggerComponent"><span class="identifier">getDropTragetDropTriggerComponent</span></a>(?pos:<a class="type" href="../../../flash/geom/Point.html">Point</a> = null): <a class="type" href="../../../org/aswing/Component.html">Component</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Returns drop target drop trigger component of specified global position.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>pos</td><td><p>the point</p></td></tr><tr><td>returns</td><td><p>the drop target drop trigger component</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>this.<a href="#startDrag">startDrag</a>()
</li>        <li>this.<a href="#getDropTargetDropTriggerComponent">getDropTargetDropTriggerComponent</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="removeDragListener"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#removeDragListener"><span class="identifier">removeDragListener</span></a>(lis:<a class="type" href="../../../org/aswing/dnd/DragListener.html">DragListener</a>): <a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Removes the specified listener from listener list.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>lis</td><td><p>the listener to be removed</p></td></tr></tbody></table></div></div><div class="platform platform-jive"><a name="setDragingImageContainerRoot"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#setDragingImageContainerRoot"><span class="identifier">setDragingImageContainerRoot</span></a>(theRoot:<a class="type" href="../../../flash/display/DisplayObjectContainer.html">DisplayObjectContainer</a>): <a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Sets the container to hold the draging image(in fact it will hold the image's parent--a sprite).
By default(if you have not set one), it will be the <code><a href="../../../org/aswing/AsWingManager.html#getRoot">AsWingManager.getRoot</a>()</code> value.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>theRoot</td><td><p>the container to hold the draging image.</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>org.aswing.<a href="../../../org/aswing/AsWingManager.html#getRoot">AsWingManager.getRoot</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="setDropMotion"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#setDropMotion"><span class="identifier">setDropMotion</span></a>(motion:<a class="type" href="../../../org/aswing/dnd/DropMotion.html">DropMotion</a>): <a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>Sets the motion of drag movie clip when a drop acted.
<p>
Generally if you want to do a custom motion of the dragging movie clip when dropped, you may 
call this method in the listener's <code>onDragDrop()</code> method.
<p>
Every drop acted, the default motion will be set to <code><a href="../../../org/aswing/dnd/DirectlyRemoveMotion.html">DirectlyRemoveMotion</a></code> 
so you need to set to yours every drop time if you want.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>motion</td><td><p>the motion</p></td></tr></tbody></table><div class="see"><h3>See Also</h3><ul>        <li>org.aswing.dnd.<a href="../../../org/aswing/dnd/DropMotion.html">DropMotion</a>
</li>        <li>org.aswing.dnd.<a href="../../../org/aswing/dnd/DirectlyRemoveMotion.html">DirectlyRemoveMotion</a>
</li>        <li>org.aswing.dnd.<a href="../../../org/aswing/dnd/RejectedMotion.html">RejectedMotion</a>
</li>        <li>org.aswing.dnd.<a href="../../../org/aswing/dnd/DragListener.html#onDragDrop">DragListener.onDragDrop</a>()</li>    </ul></div></div></div><div class="platform platform-jive"><a name="startDrag"></a><h3 style="line-height: 15px;"><p><code style="margin-left: -5px;"><span class="keyword">static </span><span class="keyword">function</span> <a href="#startDrag"><span class="identifier">startDrag</span></a>(dragInitiator:<a class="type" href="../../../org/aswing/Component.html">Component</a>, sourceData:<a class="type" href="../../../org/aswing/dnd/SourceData.html">SourceData</a>, ?dragImage:<a class="type" href="../../../org/aswing/dnd/DraggingImage.html">DraggingImage</a> = null, ?dragListener:<a class="type" href="../../../org/aswing/dnd/DragListener.html">DragListener</a> = null): <a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc" style="margin-bottom: 0px;margin-top: 0px;"><p>startDrag(dragInitiator:Component, dragSource, dragImage:MovieClip, lis:DragListener)<br>
startDrag(dragInitiator:Component, dragSource, dragImage:MovieClip)<br>
startDrag(dragInitiator:Component, dragSource)<br>
<p>
Starts dragging a initiator, with dragSource, a dragging Image, and a listener. The drag action will be finished 
at next Mouse UP/Down Event(Mouse UP or Mouse Down, generally you start a drag when mouse down, then it will be finished 
when mouse up, if you start a drag when mouse up, it will be finished when mouse down).</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>dragInitiator</td><td><p>the dragging initiator</p></td></tr><tr><td>sourceData</td><td><p>the data source will pass to the listeners and target components</p></td></tr><tr><td>dragImage</td><td><p>(optional)the image to drag, default is a rectangle image.</p></td></tr><tr><td>dragListener</td><td><p>(optional)the listener added to just for this time dragging action, default is null(no listener)</p></td></tr></tbody></table></div></div></div></div></div></body></html>